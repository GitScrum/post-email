@for $step from var(--offset-from) to var(--offset-to) by var(--offset-step) {
  .offset-$(step) {
    margin: calc($(step) * (1var(--offset-ext)));
  }
  .offset-inside-$(step) {
    padding: calc($(step) * (1var(--offset-ext)));
  }
}

@each $position in v, h {
  @for $step from var(--offset-from) to var(--offset-to) by var(--offset-step) {
    .offset-$(position)-$(step) {
      @if ($position == 'v') {
        margin-left: calc($(step) * (1var(--offset-ext)));
        margin-right: calc($(step) * (1var(--offset-ext)));
      }

      @if ($position == 'h') {
        margin-top: calc($(step) * (1var(--offset-ext)));
        margin-bottom: calc($(step) * (1var(--offset-ext)));
      }
    }

    .offset-inside-$(position)-$(step) {
      @if ($position == 'v') {
        padding-left: calc($(step) * (1var(--offset-ext)));
        padding-right: calc($(step) * (1var(--offset-ext)));
      }

      @if ($position == 'h') {
        padding-top: calc($(step) * (1var(--offset-ext)));
        padding-bottom: calc($(step) * (1var(--offset-ext)));
      }
    }
  }
}

@each $position in top, bottom, left, right {
  @for $step from var(--offset-from) to var(--offset-to) by var(--offset-step) {
    .offset-$(position)-$(step) {
      margin-$(position): calc($(step) * (1var(--offset-ext)));
    }
    .offset-inside-$(position)-$(step) {
      padding-$(position): calc($(step) * (1var(--offset-ext)));
    }
  }
}
